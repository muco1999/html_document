<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WireGuard VPN ‚Äî –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</title>
<style>
:root {
  --bg: #0f172a;
  --fg: #e2e8f0;
  --accent: #38bdf8;
  --code-bg: #1e293b;
  --border: #334155;
}
body.light {
  --bg: #f9fafb;
  --fg: #0f172a;
  --accent: #0284c7;
  --code-bg: #f1f5f9;
  --border: #cbd5e1;
}
body {
  background: var(--bg);
  color: var(--fg);
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  line-height: 1.7;
  padding: 0;
  margin: 0;
  transition: background 0.4s, color 0.4s;
}

/* ---------- HERO HEADER ---------- */
.hero {
  text-align: center;
  padding: 70px 10%;
  background: linear-gradient(135deg, #0ea5e9, #1e3a8a);
  color: white;
  position: relative;
  overflow: hidden;
}
.hero::after {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15), transparent 60%);
}
.hero img {
  width: 100px; height: 100px;
  border-radius: 50%;
  border: 3px solid white;
  margin: 0 8px;
  object-fit: cover;
  z-index: 2;
  position: relative;
}
.hero h1 {
  font-size: 2.4em;
  margin-top: 15px;
  text-shadow: 0 0 10px rgba(255,255,255,0.3);
}
.hero p {font-size: 1.1em; opacity: 0.95;}

/* ---------- CONTENT ---------- */
.container {
  padding: 40px 12%;
}
h2,h3 {color: var(--accent); margin-top: 1.6em;}
pre {
  position: relative;
  margin: 16px 0;
  border-left: 4px solid var(--accent);
  border-radius: 10px;
  background: var(--code-bg);
  overflow-x: auto;
}
code {
  display: block;
  padding: 10px 14px;
  font-family: monospace;
  font-size: 15px;
  color: var(--fg);
}
button.copy {
  position: absolute; top: 6px; right: 6px;
  background: var(--accent); color: #fff;
  border: none; border-radius: 6px;
  padding: 4px 10px; cursor: pointer;
  font-size: 12px; opacity: 0.85;
}
button.copy:hover {opacity: 1;}
table {
  width: 100%;
  border-collapse: collapse;
  background: var(--code-bg);
  border-radius: 10px;
  overflow: hidden;
  margin: 14px 0;
}
th,td {border: 1px solid var(--border); padding: 10px 14px;}
th {background: var(--accent); color: #fff; text-align: left;}
a {color: var(--accent); text-decoration: none;}
a:hover {text-decoration: underline;}
.box {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 18px 22px;
  margin: 18px 0;
}
.footer {
  text-align: center;
  padding: 40px 0 30px;
  font-size: 14px;
  color: var(--border);
  border-top: 1px solid var(--border);
}
#themeToggle {
  position: fixed; top: 15px; right: 15px;
  background: var(--accent); color: #fff;
  border: none; border-radius: 8px;
  padding: 6px 12px; font-size: 14px;
  cursor: pointer; opacity: 0.8;
  z-index: 10;
}
#themeToggle:hover {opacity: 1;}
</style>
</head>
<body>

<button id="themeToggle">üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>

<!-- ======= HEADER SECTION ======= -->
<section class="hero">
  <img src="myphoto.jpg" alt="Mahmadsharif" title="Mahmadsharif">
  <img src="gpt-logo.png" alt="ChatGPT" title="ChatGPT">
  <h1>WireGuard VPN ‚Äî –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</h1>
  <p>–ê–≤—Ç–æ—Ä: <b>Mahmadsharif</b> üí™ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å <b>ChatGPT-5</b> ‚öôÔ∏è</p>
</section>

<div class="container">

<h2>üöÄ –®–∞–≥ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>apt update -y && apt install -y wireguard qrencode</code></pre>

<h2>üß© –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>cd /etc/wireguard
umask 077
wg genkey | tee server_private.key | wg pubkey > server_public.key
</code></pre>

<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>cat > /etc/wireguard/wg0.conf <<EOF
[Interface]
PrivateKey = $(cat server_private.key)
Address = 10.7.0.1/24
ListenPort = 51820
SaveConfig = false
EOF
</code></pre>

<h2>üåê –®–∞–≥ 3. –†–∞–∑—Ä–µ—à–∞–µ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>echo "net.ipv4.ip_forward=1" >> /etc/sysctl.conf
sysctl -p
</code></pre>

<h2>üü¢ –®–∞–≥ 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>systemctl enable wg-quick@wg0
systemctl start wg-quick@wg0
sudo wg show
</code></pre>

<h2>ü§ñ –®–∞–≥ 5. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>cat > /usr/local/bin/add-wg-client.sh <<'EOF'
#!/bin/bash
WG_CONF="/etc/wireguard/wg0.conf"
WG_DIR="/etc/wireguard"
SERVER_PUB_KEY=$(cat $WG_DIR/server_public.key)
SERVER_IP=$(hostname -I | awk '{print $1}')
PORT=51820
read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: phone): " CLIENT_NAME
CLIENT_PRIV="$WG_DIR/${CLIENT_NAME}_private.key"
CLIENT_PUB="$WG_DIR/${CLIENT_NAME}_public.key"
CLIENT_CONF="$WG_DIR/${CLIENT_NAME}.conf"
wg genkey | tee $CLIENT_PRIV | wg pubkey > $CLIENT_PUB
LAST_IP=$(grep AllowedIPs $WG_CONF | tail -n1 | awk '{print $3}' | cut -d'.' -f4 | cut -d'/' -f1)
if [ -z "$LAST_IP" ]; then CLIENT_IP="10.7.0.2"; else CLIENT_IP="10.7.0.$((LAST_IP + 1))"; fi
echo -e "\n[Peer]\n# $CLIENT_NAME\nPublicKey = $(cat $CLIENT_PUB)\nAllowedIPs = ${CLIENT_IP}/32" | tee -a $WG_CONF > /dev/null
cat > $CLIENT_CONF <<CFG
[Interface]
PrivateKey = $(cat $CLIENT_PRIV)
Address = ${CLIENT_IP}/32
DNS = 1.1.1.1

[Peer]
PublicKey = $SERVER_PUB_KEY
Endpoint = $SERVER_IP:$PORT
AllowedIPs = 0.0.0.0/0, ::/0
PersistentKeepalive = 25
CFG
systemctl restart wg-quick@wg0
echo "‚úÖ –ö–ª–∏–µ–Ω—Ç '$CLIENT_NAME' –¥–æ–±–∞–≤–ª–µ–Ω!"
qrencode -t ansiutf8 < $CLIENT_CONF
EOF
chmod +x /usr/local/bin/add-wg-client.sh
</code></pre>

<h2>‚ùå –®–∞–≥ 6. –°–∫—Ä–∏–ø—Ç —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞</h2>
<pre><button class="copy">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button><code>cat > /usr/local/bin/remove-wg-client.sh <<'EOF'
#!/bin/bash
WG_CONF="/etc/wireguard/wg0.conf"
WG_DIR="/etc/wireguard"
read -p "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: " CLIENT_NAME
CLIENT_PRIV="$WG_DIR/${CLIENT_NAME}_private.key"
CLIENT_PUB="$WG_DIR/${CLIENT_NAME}_public.key"
CLIENT_CONF="$WG_DIR/${CLIENT_NAME}.conf"
if [ ! -f "$CLIENT_PUB" ]; then echo "‚ö†Ô∏è –ö–ª–∏–µ–Ω—Ç '$CLIENT_NAME' –Ω–µ –Ω–∞–π–¥–µ–Ω!"; exit 1; fi
PUB_KEY=$(cat "$CLIENT_PUB")
sed -i "/$PUB_KEY/,+2d" "$WG_CONF"
rm -f "$CLIENT_PRIV" "$CLIENT_PUB" "$CLIENT_CONF"
systemctl restart wg-quick@wg0
echo "‚úÖ –ö–ª–∏–µ–Ω—Ç '$CLIENT_NAME' –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω!"
EOF
chmod +x /usr/local/bin/remove-wg-client.sh
</code></pre>

<h2>üß≠ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</h2>
<table>
<tr><th>–î–µ–π—Å—Ç–≤–∏–µ</th><th>–ö–æ–º–∞–Ω–¥–∞</th></tr>
<tr><td>–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</td><td><code>sudo add-wg-client.sh</code></td></tr>
<tr><td>–£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</td><td><code>sudo remove-wg-client.sh</code></td></tr>
<tr><td>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</td><td><code>sudo wg show</code></td></tr>
</table>

<h2>üí° –°–æ–≤–µ—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
<ul>
<li>–•—Ä–∞–Ω–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</li>
<li>–ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —É—Ç–µ—Ä—è–Ω–æ ‚Äî —É–¥–∞–ª–∏ –µ–≥–æ —Å–∫—Ä–∏–ø—Ç–æ–º.</li>
<li>–î–µ–ª–∞–π —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é <code>/etc/wireguard/wg0.conf</code>.</li>
</ul>

</div>

<div class="footer">
–ê–≤—Ç–æ—Ä ‚Äî <b>Mahmadsharif</b> üí™ | –°–æ–∑–¥–∞–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ <b>ChatGPT-5</b> ‚öôÔ∏è
</div>

<script>
// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
document.querySelectorAll("button.copy").forEach(btn=>{
  btn.addEventListener("click",()=>{
    const code=btn.nextElementSibling.innerText;
    navigator.clipboard.writeText(code);
    btn.innerText="‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!";
    setTimeout(()=>btn.innerText="üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å",1500);
  });
});
// –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
const toggle=document.getElementById("themeToggle");
toggle.addEventListener("click",()=>{
  document.body.classList.toggle("light");
  toggle.textContent=document.body.classList.contains("light")?"üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞":"‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞";
});
</script>

</body>
</html>
